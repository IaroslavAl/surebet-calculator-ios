# Задача: Полировка UI и поддержка светлой темы

## Контекст
Проект SurebetCalculator нуждается в визуальной полировке и поддержке светлой темы. Нужно улучшить локализацию, адаптировать визуал под светлую тему, улучшить анимации и виброотдачу, а также оптимизировать версию для iPad.

## Роадмап
Полный роадмап находится в файле: `docs/ROADMAP_UI_POLISH.md`

## Твоя задача

**КРИТИЧЕСКИ ВАЖНО:** Ты должен выполнить **ТОЛЬКО ОДИН ПУНКТ** роадмапа за раз. После выполнения одного пункта с проверками и коммитом - **ОСТАНОВИСЬ** и сообщи о завершении. НЕ переходи к следующим пунктам, даже если они кажутся простыми.

### 1. Обязательное чтение правил
**ОБЯЗАТЕЛЬНО** прочитай правила проекта:
- `.cursor/rules/rules.mdc` - основные правила
- `docs/rules/CODING_STANDARDS.md` - стандарты кода
- `docs/rules/PROJECT_LESSONS.md` - база знаний об ошибках
- `docs/SYSTEM_CONTEXT.md` - контекст проекта
- `docs/architecture/DATA_FLOW.md` - архитектура
- `docs/architecture/MODULES.md` - описание модулей

### 2. Проверка ветки
**ОБЯЗАТЕЛЬНО** проверь ветку:

```bash
git branch --show-current
# Должно быть: feature/ui-polish-and-light-theme
```

Если ветка не та - переключись на правильную ветку или создай её.

### 3. Определи прогресс
- Прочитай роадмап `docs/ROADMAP_UI_POLISH.md`
- Проверь git коммиты на текущей ветке (последние коммиты):

```bash
git log --oneline -30
```

- Для каждого пункта роадмапа проверь:
  - Есть ли коммит с сообщением, указанным в роадмапе для этого пункта?
  - Применены ли изменения в коде, указанные в роадмапе?
  - Отмечен ли пункт как выполненный в роадмапе (чекбокс `[x]`)?

**Примеры проверок для разных разделов:**

**Раздел 1 - Локализация:**
- Пункт 1.1: Проверь, есть ли анализ формулировок (может быть без коммита, но с заметками)
- Пункт 1.2: Проверь файл `SurebetCalculatorPackage/Sources/SurebetCalculator/Resources/Localizable.xcstrings` - улучшены ли формулировки? Есть ли коммит `feat: улучшить формулировки локализации калькулятора`?
- Пункт 1.3: Проверь файл `SurebetCalculatorPackage/Sources/Onboarding/Resources/Localizable.xcstrings` - улучшены ли формулировки? Есть ли коммит `feat: улучшить формулировки локализации онбординга`?
- Пункт 1.4: Проверь файл `SurebetCalculatorPackage/Sources/Root/Resources/Localizable.xcstrings` - улучшены ли формулировки? Есть ли коммит `feat: улучшить формулировки локализации Root`?

**Раздел 2 - Светлая тема:**
- Пункт 2.1: Проверь файл `SurebetCalculatorPackage/Sources/Root/RootView.swift` - удален ли `.preferredColorScheme(.dark)`? Есть ли коммит `feat: убрать принудительную темную тему`?
- Пункт 2.2: Проверь файл `SurebetCalculatorPackage/Sources/SurebetCalculator/Styles/AppColors.swift` - создан ли файл с системой цветов? Есть ли коммит `feat: создать систему адаптивных цветов`?
- Пункт 2.3: Проверь файл `SurebetCalculatorPackage/Sources/SurebetCalculator/Styles/CalculatorTextFieldStyle.swift` - используются ли адаптивные цвета? Есть ли коммит `feat: адаптировать стиль текстовых полей под светлую тему`?
- И так далее для всех пунктов 2.4-2.10

**Раздел 3 - Общее улучшение визуала:**
- Пункт 3.1: Проверь, улучшена ли типографика. Есть ли коммит `feat: улучшить типографику`?
- Пункт 3.2: Проверь, унифицированы ли отступы. Есть ли коммит `feat: улучшить отступы и spacing`?
- Пункт 3.3: Проверь, улучшены ли скругления. Есть ли коммит `feat: улучшить скругления и визуальные эффекты`?
- Пункт 3.4: Проверь, улучшены ли иконки. Есть ли коммит `feat: улучшить иконки и изображения`?

**Раздел 4 - Анимации и виброотдача:**
- Пункт 4.1: Проверь, есть ли анализ анимаций (может быть без коммита)
- Пункт 4.2: Проверь, улучшены ли анимации переходов. Есть ли коммит `feat: улучшить анимации переходов`?
- Пункт 4.3: Проверь, улучшены ли анимации взаимодействий. Есть ли коммит `feat: улучшить анимации взаимодействий`?
- Пункт 4.4: Проверь, оптимизирована ли виброотдача. Есть ли коммит `feat: оптимизировать виброотдачу`?
- Пункт 4.5: Проверь файл `SurebetCalculatorPackage/Sources/SurebetCalculator/AppConstants.Animations.swift` - создан ли файл? Есть ли коммит `feat: создать систему анимаций`?

**Раздел 5 - Адаптация для iPad:**
- Пункт 5.1: Проверь, есть ли анализ поддержки iPad (может быть без коммита)
- Пункт 5.2: Проверь, улучшен ли layout для iPad. Есть ли коммит `feat: улучшить layout для iPad`?
- Пункт 5.3: Проверь, оптимизированы ли размеры для iPad. Есть ли коммит `feat: оптимизировать размеры для iPad`?
- Пункт 5.4: Проверь, выполнена ли финальная проверка iPad. Есть ли коммит `feat: финальная полировка версии для iPad`?

### 4. Найди следующий невыполненный пункт
- Пройдись по всем пунктам роадмапа в порядке очереди (1.1 → 1.2 → ... → 5.4)
- Для каждого пункта проверь:
  - Отмечен ли пункт как выполненный в роадмапе (чекбокс `[x]`)?
  - Есть ли коммит с сообщением, указанным в роадмапе?
  - Применены ли изменения в коде согласно описанию?
- Первый пункт, который НЕ выполнен (нет чекбокса `[x]` ИЛИ нет коммита ИЛИ не применены изменения) - это твоя **ЕДИНСТВЕННАЯ** задача на эту сессию

**Важно:** 
- Пункты с анализом (1.1, 4.1, 5.1) могут не иметь коммита, но должны быть отмечены как выполненные в роадмапе
- Для остальных пунктов обязательны: чекбокс `[x]`, коммит и изменения в коде
- **Выполни ТОЛЬКО этот один пункт, не больше!**

### 5. Выполни ОДИН пункт
- Прочитай детальное описание пункта в роадмапе
- Реализуй изменения согласно инструкциям
- Выполни все проверки из роадмапа:
  - **Билд:**
```bash
xcodebuild -project surebet-calculator.xcodeproj \
  -scheme surebet-calculator \
  -destination 'id=F8F50881-5D0E-49DA-AA54-1312A752EED9' \
  build
```
    - Критерий успеха: `BUILD SUCCEEDED`, отсутствие `error:` в выводе

  - **Линтер:** `read_lints` для измененных файлов
    - Исправить все ворнинги (trailing whitespace, line length, nesting)
    - Особое внимание на ворнинги линтера

  - **Тесты (если изменялись тесты или код, влияющий на тесты):**
```bash
xcodebuild test -project surebet-calculator.xcodeproj \
  -scheme surebet-calculator \
  -destination 'id=F8F50881-5D0E-49DA-AA54-1312A752EED9'
```
    - Критерий успеха: `TEST SUCCEEDED`

- **Обнови роадмап:** Отметь пункт как выполненный (замени `[ ]` на `[x]` в роадмапе)
- **Создай коммит** с сообщением, указанным в роадмапе для этого пункта
  - Формат: `feat: <описание на русском>` (Conventional Commits)
  - Описание с маленькой буквы, без точки в конце
  - До 50 символов

- **ОСТАНОВИСЬ после выполнения одного пункта!** 
  - Сообщи пользователю, что пункт выполнен
  - Укажи номер выполненного пункта
  - Укажи следующий пункт, который нужно выполнить (если есть)
  - НЕ переходи к следующему пункту самостоятельно

### 6. Если возникли ошибки
- Исправь ошибки
- Добавь запись в `docs/rules/PROJECT_LESSONS.md` в формате:
  - **Ошибка:** Краткое описание
  - **Причина:** Почему произошло
  - **Решение:** Как исправили
  - **Урок:** Правило, чтобы не повторить

## Критерии выполнения пункта
Пункт считается выполненным, если:
- Пункт отмечен как выполненный в роадмапе (чекбокс `[x]`)
- Есть коммит с сообщением, указанным в роадмапе для этого пункта (кроме пунктов анализа)
- Изменения в коде применены согласно описанию в роадмапе
- Билд проходит успешно
- Линтер не показывает ошибок
- Тесты проходят (если пункт затрагивает тесты)

## Важно
- НЕ начинай работу, пока не прочитаешь все правила проекта
- НЕ коммить изменения, пока не пройдут все проверки (билд, линтер, тесты)
- **КРИТИЧЕСКИ ВАЖНО: Выполни ТОЛЬКО ОДИН пункт за раз**
- **НЕ переходи к следующему пункту** - после выполнения одного пункта остановись
- После выполнения пункта обнови роадмап (отметь чекбокс `[x]`)
- Сообщи пользователю о завершении работы над пунктом
- Если все пункты выполнены - сообщи об этом и предложи финальную проверку

## Завершение работы
После выполнения одного пункта:
1. Сообщи пользователю: "✅ Пункт [номер] выполнен"
2. Укажи, что было сделано
3. Укажи следующий пункт для выполнения (если есть)
4. **Остановись и не выполняй следующие пункты**

## Начинай работу
Определи прогресс, найди следующий невыполненный пункт и приступай к его реализации согласно роадмапу. **Помни: выполни ТОЛЬКО ОДИН пункт и остановись!**
