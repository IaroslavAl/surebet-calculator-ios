# Задача: Реализация поддержки всех локализаций для ввода чисел

## Контекст
Проект SurebetCalculator сейчас поддерживает ввод чисел только для RU локализации (хардкод `ru_RU`). Нужно исправить это и поддержать все локализации для ввода чисел. Это изменение затронет UI тесты и возможно логику расчетов.

## Роадмап
Полный роадмап находится в файле: `docs/ROADMAP_MULTI_LOCALE_NUMBERS.md`

## Твоя задача

### 1. Обязательное чтение правил
**ОБЯЗАТЕЛЬНО** прочитай правила проекта:
- `.cursor/rules/rules.mdc` - основные правила
- `docs/rules/CODING_STANDARDS.md` - стандарты кода
- `docs/rules/PROJECT_LESSONS.md` - база знаний об ошибках
- `docs/SYSTEM_CONTEXT.md` - контекст проекта
- `docs/architecture/DATA_FLOW.md` - архитектура
- `docs/testing/TESTING_STRATEGY.md` - стратегия тестирования

### 2. Проверка ветки
**ОБЯЗАТЕЛЬНО** проверь ветку:

```bash
git branch --show-current
# Должно быть: feature/multi-locale-numbers
```

### 3. Определи прогресс
- Прочитай роадмап `docs/ROADMAP_MULTI_LOCALE_NUMBERS.md`
- Проверь git коммиты на текущей ветке (последние коммиты с этой ветки):

```bash
git log --oneline --grep="Locale.current\|локализац\|multi-locale" -i
git log --oneline -20
```

- Для каждого пункта роадмапа (1-7) проверь:
  - Есть ли коммит с сообщением, указанным в роадмапе для этого пункта?
  - Применены ли изменения в коде, указанные в роадмапе?
  - Например, для Пункта 1: проверь файл `SurebetCalculatorPackage/Sources/SurebetCalculator/Extensions/String.swift` - есть ли там `Locale.current` вместо `Locale(identifier: "ru_RU")`?
  - Для Пункта 2: проверь файл `SurebetCalculatorPackage/Sources/SurebetCalculator/Extensions/Double.swift`
  - Для Пункта 3: проверь файл `SurebetCalculatorPackage/Tests/SurebetCalculatorTests/StringExtensionTests.swift` - обновлены ли тесты?
  - Для Пункта 4: проверь файл `SurebetCalculatorPackage/Tests/SurebetCalculatorTests/DoubleExtensionTests.swift` - обновлены ли тесты?
  - Для Пункта 5: проверь файл `SurebetCalculatorUITests/SurebetCalculatorUITests.swift` - есть ли helper метод `formatNumberForInput` и используется ли он?
  - Для Пункта 6: проверь, что все тесты калькулятора проходят
  - Для Пункта 7: финальная проверка - обычно не требует коммита

### 4. Найди следующий невыполненный пункт
- Пройдись по пунктам 1-7 в порядке очереди
- Для каждого пункта проверь: выполнено ли задание (коммит + изменения в коде)
- Первый пункт, который НЕ выполнен - это твоя следующая задача

### 5. Выполни следующий пункт
- Прочитай детальное описание пункта в роадмапе
- Реализуй изменения согласно инструкциям
- Выполни все проверки из роадмапа:
  - Билд:

```bash
xcodebuild -project surebet-calculator.xcodeproj \
  -scheme surebet-calculator \
  -destination 'id=F8F50881-5D0E-49DA-AA54-1312A752EED9' \
  build
```

  - Линтер: `read_lints` для измененных файлов
  - Тесты (если изменялись):

```bash
xcodebuild test -project surebet-calculator.xcodeproj \
  -scheme surebet-calculator \
  -destination 'id=F8F50881-5D0E-49DA-AA54-1312A752EED9'
```

- Создай коммит с сообщением, указанным в роадмапе для этого пункта

### 6. Если возникли ошибки
- Исправь ошибки
- Добавь запись в `docs/rules/PROJECT_LESSONS.md` в формате:
  - **Ошибка:** Краткое описание
  - **Причина:** Почему произошло
  - **Решение:** Как исправили
  - **Урок:** Правило, чтобы не повторить

## Критерии выполнения пункта
Пункт считается выполненным, если:
- Есть коммит с сообщением, указанным в роадмапе для этого пункта
- Изменения в коде применены согласно описанию в роадмапе
- Билд проходит успешно
- Линтер не показывает ошибок
- Тесты проходят (если пункт затрагивает тесты)

## Важно
- НЕ начинай работу, пока не прочитаешь все правила проекта
- НЕ коммить изменения, пока не пройдут все проверки (билд, линтер, тесты)
- Если все пункты выполнены - сообщи об этом и предложи финальную проверку

## Начинай работу
Определи прогресс, найди следующий невыполненный пункт и приступай к его реализации согласно роадмапу.
